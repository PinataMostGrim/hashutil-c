{
	"folders":
	[
		{
			"path": ".",
			"index_exclude_patterns": [".cache/*", ".git/*", "*.exe", "*.obj", "*.ilk", "*.pdb"],
		}
	],
    "build_systems":
    [
        {
            // Requires "vcvarsall.bat" be accessible via PATH
            "name": "hashutil",
            "shell_cmd": "call vcvarsall.bat x64 && mkdir \"$folder\\%BuildFolder%\" & cd \"$folder\\%BuildFolder%\" && cl %CommonCompilerFlags% -DHASHUTIL_SLOW=0 \"$folder\\src\\hashutil.cpp\" /link %CommonLinkerFlags%",
            "working_dir": "${file_path:${folder}}",
            "env":
            {
                "BuildFolder": "bin",
                "CommonCompilerFlags": "-nologo -Od -Gm- -MT -GR- -EHa- -Oi -W4 -FC",
                "CommonLinkerFlags": "-opt:ref",
            },
            "selector": "source.c, source.c++",
            "file_regex": "^(..[^(]*)\\(([0-9]+)\\):():? (.*)$",
            "quiet": true,
            "variants" :
            [
                {
                    "name": "x64 debug",
                    "shell_cmd": "call vcvarsall.bat x64 && mkdir \"$folder\\%BuildFolder%\" & cd \"$folder\\%BuildFolder%\" && cl %CommonCompilerFlags% -DHASHUTIL_SLOW=1 -Zi -DEBUG:FULL \"$folder\\src\\hashutil.cpp\" /link %CommonLinkerFlags%",
                },
            ],
        },
        {
            // Requires "vcvarsall.bat" be accessible via PATH
            "name": "Test hashutil",
            "shell_cmd": "call vcvarsall.bat x64 && build-test-hashutil.bat && bin\\test-hashutil",
            "working_dir": "${project_path}",
            "env":
            {
                "DEBUG": "0"
            },
            "quiet": true,
        },
    ],
    "settings":
    {
		"LSP":
		{
			"clangd":
			{
				"enabled": true,
			},
		},
	},
}
